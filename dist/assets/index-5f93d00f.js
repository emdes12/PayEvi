import{o as u,c as h,a as e,w as r,v as m,t as c,F as w,b as V,d as T,e as G,r as x,f as g,p as D,g as B,h as y,n as F,i as b,j as k,k as P}from"./@vue-d86dc467.js";import O from"./html2canvas-0a33ed42.js";import{E as L}from"./jspdf-35a16b80.js";import"./@babel-5a4b8c9a.js";import"./fflate-8981c52c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))_(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&_(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function _(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();const f=(o,t)=>{const i=o.__vccOpts||o;for(const[_,s]of t)i[_]=s;return i},U={name:"BusinessForm",data(){return{business:{name:"",description:"",number:""}}},methods:{moveToClient(o){if(o.preventDefault(),!this.business.name)this.$emit("no-fill");else{const t={name:this.business.name,description:this.business.description,number:this.business.number};this.$emit("add-business",t)}}}},q={class:"business-form"},z=e("h3",null,"Your Business Details",-1),$={class:"input-container"},E=e("label",{for:"name"},"Business Name:",-1),R={class:"input-container"},j=e("label",{for:"description"},"Business Description:",-1),M={class:"input-container"},Y=e("label",{for:"business-phone"},"Your Contact:",-1),Q={class:"btn-right"};function K(o,t,i,_,s,n){return u(),h("form",q,[z,e("div",$,[E,r(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=l=>s.business.name=l),placeholder:"Your Business Name"},null,512),[[m,s.business.name]])]),e("div",R,[j,r(e("input",{type:"text",id:"description","onUpdate:modelValue":t[1]||(t[1]=l=>s.business.description=l),placeholder:"What you do"},null,512),[[m,s.business.description]])]),e("div",M,[Y,r(e("input",{type:"number",id:"business-phone","onUpdate:modelValue":t[2]||(t[2]=l=>s.business.number=l),placeholder:"+2348012345678"},null,512),[[m,s.business.number]])]),e("div",Q,[e("button",{onClick:t[3]||(t[3]=(...l)=>n.moveToClient&&n.moveToClient(...l))},"Next")])])}const W=f(U,[["render",K]]),H={name:"ClientForms",data(){return{client:{name:"",address:"",number:""}}},methods:{moveToGoods(o){if(o.preventDefault(),!this.client.name)this.$emit("no-fill");else{const t={name:this.client.name,address:this.client.address,number:this.client.number};this.$emit("add-client",t)}},backToBusiness(o){o.preventDefault(),this.$emit("to-business")}}},J={class:"client-form"},X=e("h3",null,"Customer's Details",-1),Z={class:"input-container"},ee=e("label",{for:"client-name"},"Client's Name:",-1),te={class:"input-container"},se=e("label",{for:"client-address"},"Client's Address:",-1),oe={class:"input-container"},ne=e("label",{for:"client-number"},"Client's Name:",-1),ie={class:"btn-betw"};function le(o,t,i,_,s,n){return u(),h("form",J,[X,e("div",Z,[ee,r(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>s.client.name=l),id:"client-name",placeholder:"Customer's Name"},null,512),[[m,s.client.name]])]),e("div",te,[se,r(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=l=>s.client.address=l),id:"client-address",placeholder:"Customer's Address"},null,512),[[m,s.client.address]])]),e("div",oe,[ne,r(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=l=>s.client.number=l),id:"client-number",placeholder:"+2348012345678"},null,512),[[m,s.client.number]])]),e("div",ie,[e("button",{onClick:t[3]||(t[3]=(...l)=>n.backToBusiness&&n.backToBusiness(...l))},"Prev"),e("button",{onClick:t[4]||(t[4]=(...l)=>n.moveToGoods&&n.moveToGoods(...l))},"Next")])])}const de=f(H,[["render",le]]);const ce={name:"Table",props:{good:Object},methods:{onRemove(o){this.$emit("remove-good",o)}},emits:["remove-good"]},re={class:"text-center"},ae={class:"text-right"};function ue(o,t,i,_,s,n){return u(),h(w,null,[e("td",null,c(i.good.name),1),e("td",re,c(i.good.quantity),1),e("td",ae,c(i.good.unitPrice),1),e("td",{class:"remove",onClick:t[0]||(t[0]=l=>n.onRemove(i.good.id))},"x")],64)}const he=f(ce,[["render",ue],["__scopeId","data-v-96dd4543"]]);const me={name:"GoodsForm",data(){return{good:{name:"",unitPrice:"",quantity:""},invoice:{name:"",date:"",number:"",addVAT:!1},notifyShow:!1,notify:{message:"",class:""}}},components:{Table:he},props:{goods:Array},methods:{addToGoods(){if(!this.good.name)this.$emit("no-fill");else{const o={name:this.good.name,quantity:this.good.quantity,unitPrice:this.good.unitPrice};this.$emit("add-good",o),this.good.name="",this.good.quantity="",this.good.unitPrice=""}},SubmitDetails(o){if(o.preventDefault(),!this.goods.length)this.$emit("no-fill"),console.log("generate button for error");else{const t={name:this.invoice.name,date:this.invoice.date,number:this.invoice.number,addVAT:this.invoice.addVAT};this.$emit("add-inv",t),this.invoice.name="",this.invoice.date="",this.invoice.number="",this.invoice.addVAT="",this.$emit("generate-invoice")}},backToClient(o){o.preventDefault(),this.$emit("to-client")}},emits:["remove-good"]},p=o=>(D("data-v-df111052"),o=o(),B(),o),_e={class:"goods-form"},ve=p(()=>e("h3",null,"Invoice Details",-1)),be={class:"input-container"},fe=p(()=>e("label",{for:"invoice-name"},"Invoice Name:",-1)),pe={class:"input-container"},ge=p(()=>e("label",{for:"invoice-number"},"Invoice No:",-1)),ye={class:"input-container"},Te=p(()=>e("label",{for:"invoice-date"},"Invoice Date:",-1)),Fe={for:"vat-checker",style:{"padding-top":"3px",display:"flex","align-items":"flex-start","justify-content":"left"}},we=p(()=>e("br",null,null,-1)),De=p(()=>e("hr",null,null,-1)),Be=p(()=>e("br",null,null,-1)),Ne={key:0},xe=p(()=>e("thead",null,[e("tr",null,[e("th",null,"Description"),e("th",null,"Quantity"),e("th",null,"Unit Price")])],-1)),Ce={class:"btn-betw"};function Se(o,t,i,_,s,n){const l=y("Table");return u(),h("form",_e,[ve,e("div",be,[fe,r(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=d=>s.invoice.name=d),id:"invoice-name",placeholder:"Invoice/Quotation"},null,512),[[m,s.invoice.name]])]),e("div",pe,[ge,r(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=d=>s.invoice.number=d),id:"invoice-number",placeholder:"INV001"},null,512),[[m,s.invoice.number]])]),e("div",ye,[Te,r(e("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=d=>s.invoice.date=d),id:"invoice-date"},null,512),[[m,s.invoice.date]])]),e("label",Fe,[r(e("input",{type:"checkbox",style:{width:"20px",height:"20px"},"onUpdate:modelValue":t[3]||(t[3]=d=>s.invoice.addVAT=d),id:"vat-checker"},null,512),[[V,s.invoice.addVAT]]),T(" Add VAT (7.5%) ")]),we,De,Be,e("h3",null,[T(" Goods "),i.goods.length?(u(),h("b",Ne,"("+c(i.goods.length)+")",1)):G("",!0)]),e("table",null,[xe,e("tbody",null,[(u(!0),h(w,null,x(i.goods,d=>(u(),h("tr",{key:d.id},[g(l,{good:d,onRemoveGood:N=>o.$emit("remove-good",d.id)},null,8,["good","onRemoveGood"])]))),128))])]),e("tr",null,[e("td",null,[r(e("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>s.good.name=d),type:"text",placeholder:"goods description"},null,512),[[m,s.good.name]])]),e("td",null,[r(e("input",{"onUpdate:modelValue":t[5]||(t[5]=d=>s.good.quantity=d),type:"number",placeholder:"quantity"},null,512),[[m,s.good.quantity]])]),e("td",null,[r(e("input",{"onUpdate:modelValue":t[6]||(t[6]=d=>s.good.unitPrice=d),type:"number",placeholder:"unit price"},null,512),[[m,s.good.unitPrice]])]),e("td",{onClick:t[7]||(t[7]=(...d)=>n.addToGoods&&n.addToGoods(...d)),class:"btn-add"},"+")]),e("div",Ce,[e("button",{onClick:t[8]||(t[8]=(...d)=>n.backToClient&&n.backToClient(...d))},"Prev"),e("button",{onClick:t[9]||(t[9]=(...d)=>n.SubmitDetails&&n.SubmitDetails(...d))},"Generate Invoice")])])}const Ae=f(me,[["render",Se],["__scopeId","data-v-df111052"]]);const Ie={props:{notify:Object}};function Ve(o,t,i,_,s,n){return u(),h("div",{class:F(i.notify.class)},[e("h3",null,c(i.notify.message),1)],2)}const Ge=f(Ie,[["render",Ve],["__scopeId","data-v-2418c365"]]);const ke={name:"Table",data(){return{subTotal:"",VAT:""}},props:{goods:Array,businessDetails:Object,clientDetails:Object,generated:Boolean,invoice:Object},methods:{getSubTotal(){this.goods?(this.withVAT=this.invoice.addVAT,this.subTotal=0,this.goods.filter(o=>this.subTotal+=o.amount)):console.log("no goods found")},getVAT(){let o=.075;this.VAT=this.subTotal*o}},updated(){this.getSubTotal(),this.getVAT()}},a=o=>(D("data-v-5b1ff71b"),o=o(),B(),o),Pe={id:"print-invoice"},Oe={class:"business-details"},Le={class:"capitalize"},Ue={class:"capitalize"},qe={class:"capitalize"},ze={class:"uppercase"},$e={class:"container"},Ee={class:"head"},Re={class:"client-details"},je=a(()=>e("b",null,"BILL TO:",-1)),Me={class:"capitalize"},Ye={class:"capitalize"},Qe={class:"capitalize"},Ke={class:"invoice-details"},We={class:"inv-row"},He=a(()=>e("b",null,"INVOICE NO:",-1)),Je={class:"inv-row"},Xe=a(()=>e("b",null,"DATE:",-1)),Ze=a(()=>e("thead",null,[e("tr",null,[e("th",null,"S/N"),e("th",null,"Description"),e("th",null,"Quantity"),e("th",null,"Rate"),e("th",null,"Amount (â‚¦)")])],-1)),et={class:"capitalize"},tt={class:"text-center"},st={class:"text-right"},ot={class:"text-right"},nt=a(()=>e("td",null,null,-1)),it=a(()=>e("td",null,null,-1)),lt=a(()=>e("td",null,null,-1)),dt=a(()=>e("td",{class:"sub-tb text-right"},"Subtotal",-1)),ct={class:"sub-tb text-right"},rt=a(()=>e("td",null,null,-1)),at=a(()=>e("td",null,null,-1)),ut=a(()=>e("td",null,null,-1)),ht=a(()=>e("td",{class:"sub-tb text-right"},"VAT (7.5%)",-1)),mt={class:"sub-tb text-right"},_t=a(()=>e("td",null,null,-1)),vt=a(()=>e("td",null,null,-1)),bt=a(()=>e("td",null,null,-1)),ft=a(()=>e("th",{class:"tot"},"TOTAL",-1)),pt={class:"tot text-right"},gt=a(()=>e("td",null,null,-1)),yt=a(()=>e("td",null,null,-1)),Tt=a(()=>e("td",null,null,-1)),Ft=a(()=>e("th",{class:"tot"},"TOTAL",-1)),wt={class:"tot text-right"},Dt=a(()=>e("div",{class:"fs-10 terms"},[e("b",null,"TERMS AND CONDITIONS"),e("p",null," Goods received in goods condition are not ")],-1)),Bt={class:"fs-10 text-right"},Nt=a(()=>e("br",null,null,-1)),xt={class:"capitalize"},Ct=a(()=>e("br",null,null,-1)),St=k('<div class="footer fs-10 text-center" data-v-5b1ff71b>Powered By <a href="https://payevi.vercel.app" data-v-5b1ff71b>PayEvi</a></div><div class="bottom-line" data-v-5b1ff71b><div class="hr-line" data-v-5b1ff71b></div><div class="hr-line" data-v-5b1ff71b></div></div>',2);function At(o,t,i,_,s,n){return u(),h("aside",Pe,[e("header",null,[e("div",Oe,[e("h2",Le,c(i.businessDetails.name),1),e("p",Ue,c(i.businessDetails.description),1),e("p",qe,c(i.businessDetails.number),1)]),e("h1",ze,c(i.invoice.name),1)]),e("div",$e,[e("div",Ee,[e("div",Re,[je,e("h3",Me,c(i.clientDetails.name),1),e("p",Ye,c(i.clientDetails.address),1),e("p",Qe,c(i.clientDetails.number),1)]),e("div",Ke,[e("div",We,[He,e("p",null,c(i.invoice.number),1)]),e("div",Je,[Xe,e("p",null,c(i.invoice.date),1)])])]),e("table",null,[Ze,e("tbody",null,[(u(!0),h(w,null,x(i.goods,(l,d)=>(u(),h("tr",{key:d},[e("td",null,c(d+1),1),e("td",et,c(l.name),1),e("td",tt,c(l.quantity),1),e("td",st,c(l.unitPrice),1),e("td",ot,c(l.amount),1)]))),128)),e("tr",null,[nt,it,lt,dt,e("td",ct,c(s.subTotal),1)]),r(e("tr",null,[rt,at,ut,ht,e("td",mt,c(s.VAT),1)],512),[[b,o.withVAT]]),r(e("tr",null,[_t,vt,bt,ft,e("th",pt,c(s.subTotal),1)],512),[[b,!o.withVAT]]),r(e("tr",null,[gt,yt,Tt,Ft,e("th",wt,c(s.VAT+s.subTotal),1)],512),[[b,o.withVAT]])])]),Dt,e("div",Bt,[T("Signed by: "),Nt,T(),e("b",xt,c(i.businessDetails.name),1),T(),Ct,T(" Management")]),St])])}const It=f(ke,[["render",At],["__scopeId","data-v-5b1ff71b"]]);const Vt={},C=o=>(D("data-v-15ae1b85"),o=o(),B(),o),Gt={class:"main"},kt=C(()=>e("div",{class:"loading"},null,-1)),Pt=C(()=>e("p",null,"No Invoice generated yet",-1)),Ot=[kt,Pt];function Lt(o,t){return u(),h("div",Gt,Ot)}const Ut=f(Vt,[["render",Lt],["__scopeId","data-v-15ae1b85"]]),qt={components:{BusinessForm:W,ClientForms:de,GoodsForm:Ae,NotificationBar:Ge,Loading:Ut,InvoicePreview:It},data(){return{businessDetails:{},clientDetails:{},invoice:{},isGenerated:!1,goods:[],businessForm:!0,clientForm:!1,goodsForm:!1,businessFormBtn:"active",clientFormBtn:"",goodsFormBtn:"",notifyShow:!1,notify:{message:"",class:""}}},methods:{makePDF(){window.html2canvas=O,new L("p","pt","a4",!0).html(document.querySelector("#print-invoice"),{callback:function(t){t.save("invoice.pdf")}})},showNotifyBar(o,t){this.notifyShow=!1,this.notifyShow=!0,this.notify.message=o,this.notify.class=t,setTimeout(()=>{this.notifyShow=!1},3e3)},businessShow(){this.businessForm=!0,this.clientForm=!1,this.goodsForm=!1,this.businessFormBtn="active",this.clientFormBtn="",this.goodsFormBtn=""},clientShow(){this.businessForm=!1,this.clientForm=!0,this.goodsForm=!1,this.businessFormBtn="",this.clientFormBtn="active",this.goodsFormBtn=""},goodShow(){this.businessForm=!1,this.clientForm=!1,this.goodsForm=!0,this.businessFormBtn="",this.clientFormBtn="",this.goodsFormBtn="active"},addBusiness(o){this.businessDetails=o,this.clientShow(),this.showNotifyBar(`welcome ${this.businessDetails.name}, your details has been added.`,"notification-bar success")},addClient(o){this.clientDetails=o,this.goodShow(),this.showNotifyBar("Client added.","notification-bar success")},addGood(o){this.goods=[...this.goods,o],this.showNotifyBar("Item added Successfully.","notification-bar success"),this.newGoods=this.goods},addInv(o){this.invoice=o},removeGood(o){this.goods=this.goods.filter(t=>t.id!==o),this.showNotifyBar("Item removed Successfully.","notification-bar error"),this.newGoods=this.goods},generateInvoice(){this.goods?(this.showNotifyBar("Your Invoice is loading.","notification-bar success"),setTimeout(()=>{this.isGenerated=!0},3e3)):this.showNotifyBar("No items to add.","notification-bar error")},noFill(){this.showNotifyBar("Please Input Details.","notification-bar error")}}},zt=e("h1",{class:"logo"},"PayEvi",-1),$t={class:"form-container"},Et={class:"form-btns"},Rt={class:"preview"},jt={class:"invoice-preview"},Mt={class:"invoice-generated"},Yt={class:"btn-right btn-top"};function Qt(o,t,i,_,s,n){const l=y("NotificationBar"),d=y("BusinessForm"),N=y("ClientForms"),S=y("GoodsForm"),A=y("Loading"),I=y("InvoicePreview");return u(),h(w,null,[zt,r(g(l,{notify:s.notify},null,8,["notify"]),[[b,s.notifyShow]]),e("main",null,[e("section",null,[e("div",$t,[e("div",Et,[e("div",{class:F([s.businessFormBtn]),onClick:t[0]||(t[0]=(...v)=>n.businessShow&&n.businessShow(...v))}," Business Details ",2),e("div",{class:F([s.clientFormBtn]),onClick:t[1]||(t[1]=(...v)=>n.clientShow&&n.clientShow(...v))}," Client's Details ",2),e("div",{class:F([s.goodsFormBtn]),onClick:t[2]||(t[2]=(...v)=>n.goodShow&&n.goodShow(...v))},"Goods Details",2)]),r(g(d,{onAddBusiness:n.addBusiness,onNoFill:n.noFill},null,8,["onAddBusiness","onNoFill"]),[[b,s.businessForm]]),r(g(N,{onAddClient:n.addClient,onToBusiness:t[3]||(t[3]=v=>n.businessShow()),onNoFill:n.noFill},null,8,["onAddClient","onNoFill"]),[[b,s.clientForm]]),r(g(S,{goods:s.goods,onAddGood:n.addGood,onNoFill:n.noFill,onAddInv:n.addInv,onGenerateInvoice:t[4]||(t[4]=v=>n.generateInvoice()),onToClient:t[5]||(t[5]=v=>n.clientShow()),onRemoveGood:n.removeGood},null,8,["goods","onAddGood","onNoFill","onAddInv","onRemoveGood"]),[[b,s.goodsForm]])])]),e("div",Rt,[e("div",jt,[e("div",Mt,[r(g(A,null,null,512),[[b,!s.isGenerated]]),r(g(I,{invoice:s.invoice,generated:s.isGenerated,businessDetails:s.businessDetails,clientDetails:s.clientDetails,goods:s.goods},null,8,["invoice","generated","businessDetails","clientDetails","goods"]),[[b,s.isGenerated]])])]),r(e("div",Yt,[e("button",{onClick:t[6]||(t[6]=(...v)=>n.makePDF&&n.makePDF(...v))},"Download PDF")],512),[[b,s.isGenerated]])])])],64)}const Kt=f(qt,[["render",Qt]]);P(Kt).mount("#app");
